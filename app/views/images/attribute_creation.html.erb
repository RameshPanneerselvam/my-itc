<!DOCTYPE html>

<html lang="en">
    <head>
 
        <script src="/assets/jquery.min.js" type="text/javascript"></script>
  
        <script src="/assets/bootstrap.min.js"></script>
  
        <script src="/assets/jquery-ui.min.js" type="text/javascript"></script>
  
         <script type="text/javascript">
            $(document).ready(function () {
            $("#smcCompny").change(function () {
            if ($(this).val() === "Dropdown") {
               $(function () {$("#myModal6").modal({
                show: true
                  }) });
                    }

                    });
              });
          
        </script>                 
        
        <script>

            function myFunction() { confirm("Do you want to Create a child attribute");}

       </script>

       <script type="text/javascript">
function closeMe(element) {
  $(element).parent().remove();
}

function addMore() {
  var container = $('#list');
  var item = container.find('.default').clone();
  item.removeClass('default');
  //add anything you like to item, ex: item.addClass('abc')....
  item.appendTo(container).show();
}
</script>

    </head>
  
    <style>
   
        table, th, td {
    
        border: 1px solid #aba2a2;
    
        text-align: center;

        font-family: a;

        }

    </style>

  <body>

    <div style="margin-left: 10%;" class="col-md-12">

       <div class="panel panel-primary">
 
        <div class="panel-heading"><center><strong>Attribute Creation</strong></center></div>
                        
          <div class="panel-body">
    
      <div class="row">  

        <div class="col-sm-2" style="text-align: center;">check box</div>
            
        <div class="col-sm-3" style="text-align: center;">Field Name</div>
            
        <div class="col-sm-3" style="text-align: center;">Field Type</div>
    
        <div class="col-sm-3" style="text-align: center;">For</div>
        
        <div class="col-sm-3" style="text-align: center;">Select one</div>

        <div class="col-sm-3" style="text-align: center;">Remove</div>
         
      </div><br>

      <%if @field_name1 != nil %>

        <%@field_name1.each do |field|%>

          <div class="row">
            
            <div class="col-sm-2" style="text-align: center;"></div>

            <div class="col-sm-3" style="text-align: center;"><%= FieldMaster.where(:id=>field.field_id).to_a[0].field_name%></div>

            <div class="col-sm-3" style="text-align: center;"><%= field.field_type %></div>

            <div class="col-sm-3" style="text-align: center;"><%=field.specification%></div>
            
            <div class="col-sm-3" style="text-align: center;"></div>

            <div class="col-sm-3" style="text-align: center;"><%= link_to '<i class="fa fa-trash" aria-hidden="true"></i>'.html_safe, images_destroy_field_path(field.id), data: { confirm: 'Are you sure?' },:class=>'btn btn-default'%></div>
          
          </div>
          
        <%end%>
              
      <%end%><br> 
            
      <%= form_for @field,:url=>{:controller=>"images", :action=>"create_attribute"} do|m|%>
                 
        <div class="row">

          <div class="col-sm-2"><%=check_box_tag :check%> </div>

          <div class="col-sm-3" style="text-align: center;"><%= m.select "id",options_from_collection_for_select(FieldMaster.order("field_name ASC"), "id", "field_name"),{:include_blank=>"Select Option"},:class=>"form-control",:required=>"true", :style=>"height: 3.5rem;" %></div>

          <div class="col-sm-3" style="text-align: center;"><%= select_tag(:field_type, options_for_select(['Text', 'Date', 'Dropdown'], selected: :field_type ),:style=>"height: 3.5rem;",:class=>"form-control",:id=>"smcCompny") %></div>
            
          <div class="col-sm-3" style="text-align: center;"><%= select_tag(:specification, options_for_select(['I', 'D', 'I/D'], selected: :specification ),:style=>"height: 3.5rem;",:class=>"form-control",:required=>"")%></div>
 
          <div class="col-sm-3" style="text-align: center;"><%= select_tag(:specification, options_for_select(['Parent field','Child field'], selected: :specification ),:style=>"height: 3.5rem;",:class=>"form-control",:required=>"")%></div>
     
          <div class="col-sm-3" style="text-align: center;"><button type="submit" class="btn btn-primary"><i class="fa fa-plus" aria-hidden="true"></i></button></div>

          
           
        </div>  
        
      <%end%>
            
    </div>

    </div>

    </div>



    <div style="margin-top: 22%; margin-left: 37%;" class="col-md-15">

      <div class="row">

        <!--a href="/images/digitization"><button type="button" class="btn btn-warning"><i class="fa fa-database" aria-hidden="true"></i>&nbsp;Digitization</button></a-->

        <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#myModal6"><i class="fa fa-database" aria-hidden="true"></i> Dropdown popup</button>

        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal2"><i class="fa fa-plus" aria-hidden="true"></i> New Field</button>

        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal" onclick="myFunction()" ><i class="fa fa-bars" aria-hidden="true"></i>&nbsp;Submit</button>

      </div>

    <div class="modal fade" id="myModal2" role="dialog">

      <div class="modal-dialog modal-sm">
    
        <div class="modal-content">
       
          <div class="modal-header">
          
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          
            <h4 class="modal-title">Create Your Field</h4>
        
          </div>
        
          <div class="modal-body">
 
            <div class="col-xs-12">
            
              <div class="row">
          
                <%= form_for @field,:url=>{:controller=>"images", :action=>"create_attribute",remote: true} do|p|%>

               <div class="col-sm-4"><%=p.text_field :field_name,:class=>"form-control",:placeholder=>"Field Name",:required=>""%> </div>

                <div class="col-sm-4"><%= select_tag(:field_type, options_for_select(['Text', 'Date', 'Dropdown'], selected: :field_type ),:id=>"smcCompny",:style=>"height: 3.5rem;",:class=>"form-control",:required=>"") %> </div>

              <div class="col-sm-4"><%= select_tag(:specification, options_for_select(['I', 'D', 'I/D'], selected: :specification ),:style=>"height: 3.5rem; width: 130%;",:class=>"form-control",:required=>"") %> </div>
                
             </div>

            </div>
   
          </div><br>
        
          <div class="modal-footer">
          
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          
            <button type="submit" class="btn btn-primary"><i class="fa fa-plus" aria-hidden="true"></i>Add</button>
           
            <%end%>
        
          </div>
      
        </div>
    
      </div>

    </div>

    <div class="modal fade" id="myModal" role="dialog">
   
      <div class="modal-dialog modal-sm">
      
        <div class="modal-content">
        
          <div class="modal-header">
          
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          
            <center><h4 class="modal-title">Select Fields</h4></center>
        
          </div>
        
          <div class="modal-body">
          
            <center><table style="width: 80%;">
        
              <%= form_for @field,:url=>{:controller=>"images", :action=>"child_attribute_creation",:method=>"post"} do|p|%>
         
                <%unless @check_box_classification.nil?%>
           
                  <% @check_box_classification.each do |type| %>
              
                    <tr>

                      <td><%= check_box_tag 'field_name[]', type.id%></td>
               
                      <td><%= FieldMaster.where(:id=>type.field_id).to_a[0].field_name%></td>

                    </tr>
                 
                  <%end%>
            
                <% end %>
            
            </table></center>
        
         </div>
        
        <div class="modal-footer">
        
          <button type="submit" class="btn btn-primary"><i class="fa fa-plus" aria-hidden="true"></i> Add</button>
         
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
     
          <%end%>

        </div>
      
      </div>
    
    </div>
  
  </div>

</div>

  

  <!-- Modal -->
  <div class="modal fade" id="myModal6" role="dialog">

    <div class="modal-dialog modal-sm">

      <div class="modal-content">

        <div class="modal-header">

          <button type="button" class="close" data-dismiss="modal">&times;</button>
 
          <center><h4 class="modal-title">dropdownlist</h4></center>
 
        </div>
 
        <div class="modal-body">
        
          <%unless @dropdownvalue.compact.empty?%>
        
            <%@dropdownvalue.compact.each do |val| %>
        
              <center><%= val.dropdownvalues_name%></center>

            <%end%>
        
          <%end%>
                
          <%= form_for @dropdown, :remote => true,:url=>{:controller=>"images", :action=>"create_dropdownvalue"} do|s|%>
                
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

            <ul id="list">
    
              <li class="default" style="display: none;">
        
                <input name="values[]" type="text" /><span style="cursor: pointer;" onclick="closeMe(this);"><i class="fa fa-trash" aria-hidden="true"></i></span>

              </li>

            </ul>

            <a href="#" onclick="addMore();"><i class="fa fa-plus-circle fa-2x"></i></a>
       
        </div>
        
        <div class="modal-footer">
        
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

          <button type="submit" class="btn btn-primary">Save</button>
            
          <%end%>

        </div>
     
      </div>
   
    </div>
  
  </div>

</body>

</html>
